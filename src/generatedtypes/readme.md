## Open API Generated Zodios and Zod Objects

The `django_generated.ts` file is autogenerated via `pnpm run schema`. However you must manually alter it to:

- ensure the `endpoints` variable is directly exported.
- remove the createClientAPI stuff at the end. We don't use that.
- replace all `.passthrough()` to be `.strip()`.(\*)

The zodios types generated aren't perfect. The [openapi-zod-client](https://github.com/astahmer/openapi-zod-client) library doesn't transform string to numbers when it should. It doesn't use the appropriate read vs write variants of the schemas when it creates the endpoints. It misses other nuances.

To fix this via hacks, we use the `django_api.ts` file instead. That allows us to fix some of these problems before using the client.

## Other Limitations

There isn't an easy way to configure `openapi-zod-client` to import only the endpoints and schemas that we care about. For example, this frontend app is specifically for customers. We do not care about endpoints built for managers, delivery staff or administrators. We could also hack script this if we wanted but I'm not bothering in this PoC here.

---

^(\*) `.passthrough` allows additional fields to exist from API response w/o zod throwing validation errors. But it also keeps them around for the client and causes errors when trying to generate typescript types from these
zod objects. We switch it to `.strip()` manually so these additional fields are ignored and our types work fine.
